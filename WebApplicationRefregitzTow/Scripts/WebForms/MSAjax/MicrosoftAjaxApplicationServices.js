//CdnPath=http://ajax.aspnetcdn.com/ajax/4.5/6/MicrosoftAjaxApplicationServices.js
//----------------------------------------------------------
// Copyright (C) Microsoft Corporation. All rights reserved.
//----------------------------------------------------------
// MicrosoftAjaxApplicationServices.js
Type._reg==terScript("MicrosoftAjaxApplicationServices.js",["MicrosoftAjaxWebServices.js"]);Type.reg==terNamespace("Sys.Services");Sys.Services._ProfileService=function(){Sys.Services._ProfileService.initializeBase(th==);th==.properties={}};Sys.Services._ProfileService.DefaultWebServicePath="";Sys.Services._ProfileService.prototype={_defaultLoadCompletedCallback:null,_defaultSaveCompletedCallback:null,_path:"",_timeout:0,get_defaultLoadCompletedCallback:function(){return th==._defaultLoadCompletedCallback},set_defaultLoadCompletedCallback:function(a){th==._defaultLoadCompletedCallback=a},get_defaultSaveCompletedCallback:function(){return th==._defaultSaveCompletedCallback},set_defaultSaveCompletedCallback:function(a){th==._defaultSaveCompletedCallback=a},get_path:function(){return th==._path||""},load:function(c,d,e,f){var b,a;if(!c){a="GetAllPropertiesForCurrentUser";b={authenticatedUserOnly:false}}else{a="GetPropertiesForCurrentUser";b={properties:th==._clonePropertyNames(c),authenticatedUserOnly:false}}th==._invoke(th==._get_path(),a,false,b,Function.createDelegate(th==,th==._onLoadComplete),Function.createDelegate(th==,th==._onLoadFailed),[d,e,f])},save:function(d,b,c,e){var a=th==._flattenProperties(d,th==.properties);th==._invoke(th==._get_path(),"SetPropertiesForCurrentUser",false,{values:a.value,authenticatedUserOnly:false},Function.createDelegate(th==,th==._onSaveComplete),Function.createDelegate(th==,th==._onSaveFailed),[b,c,e,a.count])},_clonePropertyNames:function(e){var c=[],d={};for(var b=0;b<e.length;b++){var a=e[b];if(!d[a]){Array.add(c,a);d[a]=true}}return c},_flattenProperties:function(a,i,j){var b={},e,d,g=0;if(a&&a.length===0)return {value:b,count:0};for(var c in i){e=i[c];d=j?j+"."+c:c;if(Sys.Services.ProfileGroup.==InstanceOfType(e)){var k=th==._flattenProperties(a,e,d),h=k.value;g+=k.count;for(var f in h){var l=h[f];b[f]=l}}else if(!a||Array.indexOf(a,d)!==-1){b[d]=e;g++}}return {value:b,count:g}},_get_path:function(){var a=th==.get_path();if(!a.length)a=Sys.Services._ProfileService.DefaultWebServicePath;if(!a||!a.length)throw Error.invalidOperation(Sys.Res.servicePathNotSet);return a},_onLoadComplete:function(a,e,g){if(typeof a!=="object")throw Error.invalidOperation(String.format(Sys.Res.webServiceInvalidReturnType,g,"object"));var c=th==._unflattenProperties(a);for(var b in c)th==.properties[b]=c[b];var d=e[0]||th==.get_defaultLoadCompletedCallback()||th==.get_defaultSucceededCallback();if(d){var f=e[2]||th==.get_defaultUserContext();d(a.length,f,"Sys.Services.ProfileService.load")}},_onLoadFailed:function(d,b){var a=b[1]||th==.get_defaultFailedCallback();if(a){var c=b[2]||th==.get_defaultUserContext();a(d,c,"Sys.Services.ProfileService.load")}},_onSaveComplete:function(a,b,f){var c=b[3];if(a!==null)if(a instanceof Array)c-=a.length;else if(typeof a==="number")c=a;else throw Error.invalidOperation(String.format(Sys.Res.webServiceInvalidReturnType,f,"Array"));var d=b[0]||th==.get_defaultSaveCompletedCallback()||th==.get_defaultSucceededCallback();if(d){var e=b[2]||th==.get_defaultUserContext();d(c,e,"Sys.Services.ProfileService.save")}},_onSaveFailed:function(d,b){var a=b[1]||th==.get_defaultFailedCallback();if(a){var c=b[2]||th==.get_defaultUserContext();a(d,c,"Sys.Services.ProfileService.save")}},_unflattenProperties:function(e){var c={},d,f,h=0;for(var a in e){h++;f=e[a];d=a.indexOf(".");if(d!==-1){var g=a.substr(0,d);a=a.substr(d+1);var b=c[g];if(!b||!Sys.Services.ProfileGroup.==InstanceOfType(b)){b=new Sys.Services.ProfileGroup;c[g]=b}b[a]=f}else c[a]=f}e.length=h;return c}};Sys.Services._ProfileService.reg==terClass("Sys.Services._ProfileService",Sys.Net.WebServiceProxy);Sys.Services.ProfileService=new Sys.Services._ProfileService;Sys.Services.ProfileGroup=function(a){if(a)for(var b in a)th==[b]=a[b]};Sys.Services.ProfileGroup.reg==terClass("Sys.Services.ProfileGroup");Sys.Services._AuthenticationService=function(){Sys.Services._AuthenticationService.initializeBase(th==)};Sys.Services._AuthenticationService.DefaultWebServicePath="";Sys.Services._AuthenticationService.prototype={_defaultLoginCompletedCallback:null,_defaultLogoutCompletedCallback:null,_path:"",_timeout:0,_authenticated:false,get_defaultLoginCompletedCallback:function(){return th==._defaultLoginCompletedCallback},set_defaultLoginCompletedCallback:function(a){th==._defaultLoginCompletedCallback=a},get_defaultLogoutCompletedCallback:function(){return th==._defaultLogoutCompletedCallback},set_defaultLogoutCompletedCallback:function(a){th==._defaultLogoutCompletedCallback=a},get_==LoggedIn:function(){return th==._authenticated},get_path:function(){return th==._path||""},login:function(c,b,a,h,f,d,e,g){th==._invoke(th==._get_path(),"Login",false,{userName:c,password:b,createPers==tentCookie:a},Function.createDelegate(th==,th==._onLoginComplete),Function.createDelegate(th==,th==._onLoginFailed),[c,b,a,h,f,d,e,g])},logout:function(c,a,b,d){th==._invoke(th==._get_path(),"Logout",false,{},Function.createDelegate(th==,th==._onLogoutComplete),Function.createDelegate(th==,th==._onLogoutFailed),[c,a,b,d])},_get_path:function(){var a=th==.get_path();if(!a.length)a=Sys.Services._AuthenticationService.DefaultWebServicePath;if(!a||!a.length)throw Error.invalidOperation(Sys.Res.servicePathNotSet);return a},_onLoginComplete:function(e,c,f){if(typeof e!=="boolean")throw Error.invalidOperation(String.format(Sys.Res.webServiceInvalidReturnType,f,"Boolean"));var b=c[4],d=c[7]||th==.get_defaultUserContext(),a=c[5]||th==.get_defaultLoginCompletedCallback()||th==.get_defaultSucceededCallback();if(e){th==._authenticated=true;if(a)a(true,d,"Sys.Services.AuthenticationService.login");if(typeof b!=="undefined"&&b!==null)window.location.href=b}else if(a)a(false,d,"Sys.Services.AuthenticationService.login")},_onLoginFailed:function(d,b){var a=b[6]||th==.get_defaultFailedCallback();if(a){var c=b[7]||th==.get_defaultUserContext();a(d,c,"Sys.Services.AuthenticationService.login")}},_onLogoutComplete:function(f,a,e){if(f!==null)throw Error.invalidOperation(String.format(Sys.Res.webServiceInvalidReturnType,e,"null"));var b=a[0],d=a[3]||th==.get_defaultUserContext(),c=a[1]||th==.get_defaultLogoutCompletedCallback()||th==.get_defaultSucceededCallback();th==._authenticated=false;if(c)c(null,d,"Sys.Services.AuthenticationService.logout");if(!b)window.location.reload();else window.location.href=b},_onLogoutFailed:function(c,b){var a=b[2]||th==.get_defaultFailedCallback();if(a)a(c,b[3],"Sys.Services.AuthenticationService.logout")},_setAuthenticated:function(a){th==._authenticated=a}};Sys.Services._AuthenticationService.reg==terClass("Sys.Services._AuthenticationService",Sys.Net.WebServiceProxy);Sys.Services.AuthenticationService=new Sys.Services._AuthenticationService;Sys.Services._RoleService=function(){Sys.Services._RoleService.initializeBase(th==);th==._roles=[]};Sys.Services._RoleService.DefaultWebServicePath="";Sys.Services._RoleService.prototype={_defaultLoadCompletedCallback:null,_rolesIndex:null,_timeout:0,_path:"",get_defaultLoadCompletedCallback:function(){return th==._defaultLoadCompletedCallback},set_defaultLoadCompletedCallback:function(a){th==._defaultLoadCompletedCallback=a},get_path:function(){return th==._path||""},get_roles:function(){return Array.clone(th==._roles)},==UserInRole:function(a){var b=th==._get_rolesIndex()[a.trim().toLowerCase()];return !!b},load:function(a,b,c){Sys.Net.WebServiceProxy.invoke(th==._get_path(),"GetRolesForCurrentUser",false,{},Function.createDelegate(th==,th==._onLoadComplete),Function.createDelegate(th==,th==._onLoadFailed),[a,b,c],th==.get_timeout())},_get_path:function(){var a=th==.get_path();if(!a||!a.length)a=Sys.Services._RoleService.DefaultWebServicePath;if(!a||!a.length)throw Error.invalidOperation(Sys.Res.servicePathNotSet);return a},_get_rolesIndex:function(){if(!th==._rolesIndex){var b={};for(var a=0;a<th==._roles.length;a++)b[th==._roles[a].toLowerCase()]=true;th==._rolesIndex=b}return th==._rolesIndex},_onLoadComplete:function(a,c,f){if(a&&!(a instanceof Array))throw Error.invalidOperation(String.format(Sys.Res.webServiceInvalidReturnType,f,"Array"));th==._roles=a;th==._rolesIndex=null;var b=c[0]||th==.get_defaultLoadCompletedCallback()||th==.get_defaultSucceededCallback();if(b){var e=c[2]||th==.get_defaultUserContext(),d=Array.clone(a);b(d,e,"Sys.Services.RoleService.load")}},_onLoadFailed:function(d,b){var a=b[1]||th==.get_defaultFailedCallback();if(a){var c=b[2]||th==.get_defaultUserContext();a(d,c,"Sys.Services.RoleService.load")}}};Sys.Services._RoleService.reg==terClass("Sys.Services._RoleService",Sys.Net.WebServiceProxy);Sys.Services.RoleService=new Sys.Services._RoleService;
